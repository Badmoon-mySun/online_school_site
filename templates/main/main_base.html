{% extends "main/base.html" %}

{% load static %}

{% block stylesheet %}
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans&display=swap" rel="stylesheet">
    <link href="{% static 'css/main.css' %}" rel="stylesheet" type="text/css">
{% endblock %}

{% block content %}
    <header class="header">
        <div class="container">
            <div class="header__inner">
                <div class="header_left">
                    <div class="header__logo">
                        <a href="{% url 'profile' %}">
                            <img src="{% static 'img/logo.svg' %}" alt="Sotka logo">
                        </a>
                    </div>
                </div>
                <div class="header__menu">
                    <button class="btn menu_btn" type="button" data-bs-toggle="collapse" data-bs-target="#main__nav"
                            aria-expanded="false" aria-controls="main__nav">
                        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor"
                             class="bi bi-list" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                  d="M2.5 11.5A.5.5 0 0 1 3 11h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 7h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4A.5.5 0 0 1 3 3h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"></path>
                        </svg>
                    </button>
                </div>
                <div class="header_right">
                    <a href="https://vk.com/sotka_shop" class="header__coins">
                        <div class="coins_icon">
                            <img src="{% static 'img/coin.png' %}" alt="Коины">
                        </div>
                        <div class="coins_number">
                            {{ request.user.coins }}
                        </div>
                        <div class="coins_text">
                            Коинов
                        </div>
                    </a>
                    <div class="header__user">
                        <button type="button" class="btn btn-link dropdown-toggle" data-bs-toggle="dropdown"
                                aria-expanded="false">
                            {% if request.user.avatar %}
                                <img class="user__img" src="{{ request.user.avatar.url }}" alt="">
                            {% else %}
                                <img class="user__img" src="{% static 'img/avatar.jpg' %}" alt="">
                            {% endif %}
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="{% url 'profile' %}">Мой профиль</a></li>
                            {% if request.user.role == 'teacher' %}
                                <li>
                                    <a class="dropdown-item active"
                                       href="{% url 'teacher_hw' subject_id=0 %}">Преподавателю</a>
                                </li>
                            {% endif %}
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item" href="{% url 'logout' %}">Выйти</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <div class="main">
        <div class="container">
            <div class="row main__inner">
                <div class="col col-md-4 col-lg-3 pe-0 collapse main__nav" id="main__nav">
                    <ul class="nav_col">
                        <li class="nav_elem">
                            {% block nav_course %}
                                <a class="nav_elem_btn" data-bs-toggle="collapse" href="#nav_subjects" role="button"
                                   aria-expanded="false" aria-controls="nav_subjects">
                                    <svg class="nav_elem_img" version="1.1" xmlns="http://www.w3.org/2000/svg"
                                         xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                         viewBox="0 0 349.2 349.2" style="enable-background:new 0 0 349.2 349.2;"
                                         xml:space="preserve">
                                        <g>
                                            <g>
                                                <path d="M337.6,114.25l-139.2-68c-12-6-32.4-6-44.4,0l-142.4,68c-10,4.8-11.6,11.6-11.6,15.2c0,3.6,1.6,10,11.6,15.2l11.6,5.6v64
                                                    c-7.2,2.8-12.4,10-12.4,18s5.2,15.2,12,18l-18,57.2h50.4l-18-57.2c7.2-2.8,12-10,12-18c0-8.4-5.2-15.2-12.4-18v-57.2l21.2,10.4
                                                    v83.2c0,1.2,0.4,2.4,1.2,3.6c2,2.4,39.2,53.2,115.2,53.2s113.2-51.2,114.8-53.2c0.8-1.2,1.2-2.4,1.2-3.6v-82.8l47.2-23.2
                                                    c10-4.8,11.6-11.6,11.6-15.2C348.8,125.85,347.6,119.05,337.6,114.25z M277.6,248.65c-6.4,8-40.8,46.4-103.2,46.4
                                                    c-62.4,0-96.8-38.4-103.2-46.4v-75.6l82.8,39.6c6,2.8,14,4.4,22,4.4c8.4,0,16.4-1.6,22.4-4.8l79.2-38.8V248.65z M332,133.45
                                                    l-48,23.6c-2,0-3.6,0.8-4.4,2.4l-86.8,42c-8.4,4.4-24.8,4.4-33.6,0l-106.8-51.2l122.8-14.4c3.6-0.4,6-3.6,5.6-6.8
                                                    c-0.4-3.6-3.6-6-6.8-5.6l-142.4,16.8l-14.4-6.8c-3.6-1.6-4.4-3.6-4.4-3.6c0-0.4,0.8-2,4.4-3.6l142.4-68.4c4.4-2,10.4-3.2,16.4-3.2
                                                    c6.4,0,12.8,1.2,16.8,3.2l139.2,68c3.6,1.6,4.4,3.2,4.4,4C336.4,129.85,335.2,131.85,332,133.45z"></path>
                                            </g>
                                        </g>
                                    </svg>
                                    Курсы
                                </a>
                                <ul class="nav_subjects collapse" id="nav_subjects">
                                    {% for subject in request.user.subjects.all %}
                                        <li class="nav_elem">
                                            <a href="{{ subject.get_url_on_course }}">{{ subject }}</a>
                                        </li>
                                    {% endfor %}
                                </ul>
                            {% endblock %}
                        </li>
                        <li class="nav_elem">
                            {% block nav_homework %}
                                <a class="nav_elem_btn" data-bs-toggle="collapse" href="#nav_homework" role="button"
                                   aria-expanded="false" aria-controls="nav_homework">
                                    <svg class="nav_elem_img" enable-background="new 0 0 512.899 512.899" height="512"
                                         viewBox="0 0 512.899 512.899" width="512"
                                         xmlns="http://www.w3.org/2000/svg">
                                        <g>
                                            <path d="m42.362 143.467c4.142 0 7.5-3.358 7.5-7.5v-120.967h262.06v66.773c0 8.458 6.881 15.339 15.339 15.339h67.26v37.349c0 4.142 3.358 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-42.049c0-3.652-1.422-7.085-4.004-9.667l-78.739-78.74c-2.582-2.583-6.015-4.005-9.668-4.005h-268.577c-7.538 0-13.671 6.133-13.671 13.671v122.296c0 4.142 3.358 7.5 7.5 7.5zm284.56-61.694v-56.41l56.749 56.749h-56.41c-.186 0-.339-.152-.339-.339z"></path>
                                            <path d="m402.022 346.071c-4.142 0-7.5 3.358-7.5 7.5v144.328h-344.66v-329.942c0-4.142-3.358-7.5-7.5-7.5s-7.5 3.358-7.5 7.5v331.271c0 7.538 6.133 13.671 13.671 13.671h347.317c7.538 0 13.671-6.133 13.671-13.671v-145.657c.001-4.142-3.357-7.5-7.499-7.5z"></path>
                                            <path d="m140.177 90.755c0-8.056-6.554-14.61-14.611-14.61h-40.158c-8.056 0-14.61 6.554-14.61 14.61v40.158c0 8.057 6.554 14.611 14.61 14.611h40.158c8.057 0 14.611-6.554 14.611-14.611zm-15 39.769h-39.379v-39.379h39.379z"></path>
                                            <path d="m158.785 101.521h119.952c4.142 0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-119.952c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5z"></path>
                                            <path d="m158.785 135.148h119.952c4.142 0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-119.952c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5z"></path>
                                            <path d="m140.177 181.146c0-8.057-6.554-14.611-14.611-14.611h-40.158c-8.056 0-14.61 6.554-14.61 14.611v40.158c0 8.057 6.554 14.611 14.61 14.611h40.158c8.057 0 14.611-6.554 14.611-14.611zm-15 39.768h-39.379v-39.379h39.379z"></path>
                                            <path d="m319.422 176.91h-160.637c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h160.637c4.142 0 7.5-3.358 7.5-7.5s-3.357-7.5-7.5-7.5z"></path>
                                            <path d="m326.922 218.039c0-4.142-3.358-7.5-7.5-7.5h-160.637c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h160.637c4.143 0 7.5-3.358 7.5-7.5z"></path>
                                            <path d="m140.177 271.535c0-8.057-6.554-14.611-14.611-14.611h-40.158c-8.056 0-14.61 6.554-14.61 14.611v40.158c0 8.057 6.554 14.611 14.61 14.611h40.158c8.057 0 14.611-6.554 14.611-14.611zm-15 39.769h-39.379v-39.379h39.379z"></path>
                                            <path d="m158.785 282.3h143.299c4.142 0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-143.299c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5z"></path>
                                            <path d="m319.879 308.428c0-4.142-3.358-7.5-7.5-7.5h-153.594c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h153.594c4.142 0 7.5-3.358 7.5-7.5z"></path>
                                            <path d="m125.566 347.314h-40.158c-8.056 0-14.61 6.554-14.61 14.611v40.158c0 8.057 6.554 14.611 14.61 14.611h40.158c8.057 0 14.611-6.554 14.611-14.611v-40.158c0-8.057-6.554-14.611-14.611-14.611zm-.389 54.379h-39.379v-39.379h39.379z"></path>
                                            <path d="m292.462 365.189c0-4.142-3.358-7.5-7.5-7.5h-126.177c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h126.177c4.142 0 7.5-3.357 7.5-7.5z"></path>
                                            <path d="m158.785 391.318c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h103.146c4.142 0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5z"></path>
                                            <path d="m466.79 125.486-10.31-5.076c-9.967-4.908-22.07-.792-26.978 9.176l-148.501 301.591c-.777 1.577-1.146 3.339-1.067 5.098l1.447 31.995c.172 3.813 2.406 7.229 5.83 8.915 1.464.721 3.046 1.077 4.622 1.077 2.11 0 4.209-.638 6-1.89l26.244-18.362c1.441-1.009 2.612-2.376 3.387-3.95l41.236-83.746c1.83-3.716.301-8.212-3.416-10.042-3.714-1.83-8.211-.301-10.042 3.416l-23.567 47.861-19.549-9.626 101.86-206.867 19.55 9.626-64.144 130.269c-1.83 3.716-.301 8.212 3.416 10.042 3.717 1.831 8.212.301 10.042-3.416l93.117-189.11c4.907-9.97.79-22.072-9.177-26.981zm-170.798 333.865-.861-19.03 16.469 8.109zm29.057-34.347-5.282 10.727-19.549-9.626 5.282-10.727zm95.563-243.407 5.282-10.727 19.55 9.626-5.282 10.727zm41.897-35.759-10.439 21.202-19.55-9.626 10.439-21.201c1.253-2.547 4.345-3.6 6.895-2.345l10.309 5.076c2.548 1.254 3.6 4.347 2.346 6.894z"></path>
                                        </g>
                                    </svg>
                                    Домашнее задание
                                </a>
                                <ul class="nav_homework collapse" id="nav_homework">
                                    {% for subject in request.user.subjects.all %}
                                        <li class="nav_elem">
                                            <a href="{{ subject.get_url_on_homework }}">{{ subject }}</a>
                                        </li>
                                    {% endfor %}
                                </ul>
                            {% endblock %}
                        </li>
                        <li class="nav_elem">
                            <div class="nav_line"></div>
                        </li>
                        <li class="nav_elem">
                            <a href="{% url 'schedule' %}">
                                <svg class="nav_elem_img" enable-background="new 0 0 512 512" height="512" viewBox="0 0 512 512"
                                     width="512"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <g>
                                        <path d="m391.017 251.454h35.714c8.074 0 14.643-6.569 14.643-14.643v-35.714c0-8.074-6.569-14.643-14.643-14.643h-35.714c-8.074 0-14.643 6.569-14.643 14.643v35.714c0 8.074 6.569 14.643 14.643 14.643zm.357-50h35v35h-35zm-.357 145h35.714c8.074 0 14.643-6.569 14.643-14.643v-35.714c0-8.074-6.569-14.643-14.643-14.643h-35.714c-8.074 0-14.643 6.569-14.643 14.643v35.714c0 8.074 6.569 14.643 14.643 14.643zm.357-50h35v35h-35zm-102.273-45h35.714c8.074 0 14.643-6.569 14.643-14.643v-35.714c0-8.074-6.569-14.643-14.643-14.643h-35.714c-8.074 0-14.643 6.569-14.643 14.643v35.714c0 8.074 6.569 14.643 14.643 14.643zm.357-50h35v35h-35zm-168.475 170.546h-35.714c-8.074 0-14.643 6.569-14.643 14.643v35.714c0 8.074 6.569 14.643 14.643 14.643h35.714c8.074 0 14.643-6.569 14.643-14.643v-35.714c0-8.074-6.569-14.643-14.643-14.643zm-.357 50h-35v-35h35zm.357-235.546h-35.714c-8.074 0-14.643 6.569-14.643 14.643v35.714c0 8.074 6.569 14.643 14.643 14.643h35.714c8.074 0 14.643-6.569 14.643-14.643v-35.714c0-8.075-6.569-14.643-14.643-14.643zm-.357 50h-35v-35h35zm168.475 107.773h35.714c8.074 0 14.643-6.569 14.643-14.643v-35.714c0-8.074-6.569-14.643-14.643-14.643h-35.714c-8.074 0-14.643 6.569-14.643 14.643v35.714c0 8.074 6.569 14.643 14.643 14.643zm.357-50h35v35h-35zm159.365-259.953h-32.066v-11.467c0-12.576-10.231-22.807-22.807-22.807h-3.444c-12.575 0-22.806 10.231-22.806 22.807v11.467h-223.4v-11.467c0-12.576-10.231-22.807-22.807-22.807h-3.444c-12.576 0-22.807 10.231-22.807 22.807v11.467h-32.065c-20.705 0-37.55 16.845-37.55 37.55v402.676c0 20.678 16.822 37.5 37.5 37.5h385.748c20.678 0 37.5-16.822 37.5-37.5v-402.676c-.001-20.705-16.846-37.55-37.552-37.55zm-66.123-11.467c0-4.305 3.502-7.807 7.807-7.807h3.444c4.305 0 7.807 3.502 7.807 7.807v11.467h-19.058zm-272.457 0c0-4.305 3.502-7.807 7.807-7.807h3.444c4.305 0 7.807 3.502 7.807 7.807v11.467h-19.057v-11.467zm361.131 451.693c0 12.407-10.093 22.5-22.5 22.5h-385.748c-12.407 0-22.5-10.093-22.5-22.5v-.047c6.284 4.735 14.095 7.547 22.551 7.547h304.083c10.03 0 19.46-3.906 26.552-10.999l77.562-77.562zm-85.215-17.059c.588-2.427.908-4.958.908-7.563v-50.064c0-9.44 7.681-17.121 17.122-17.121h50.063c2.605 0 5.136-.32 7.563-.908zm85.215-315.987h-319.574c-4.142 0-7.5 3.358-7.5 7.5s3.358 7.5 7.5 7.5h319.574v194.118c0 9.441-7.681 17.122-17.122 17.122h-50.063c-17.712 0-32.122 14.41-32.122 32.121v50.064c0 9.441-7.681 17.122-17.121 17.122h-291.769c-12.434 0-22.55-10.116-22.55-22.551v-287.996h81.173c4.142 0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5h-81.174v-69.63c0-12.434 10.116-22.55 22.55-22.55h32.066v22.052c0 12.576 10.231 22.807 22.807 22.807 4.142 0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5c-4.305 0-7.807-3.502-7.807-7.807v-22.052h257.458v22.052c0 12.576 10.231 22.807 22.807 22.807 4.142 0 7.5-3.358 7.5-7.5s-3.358-7.5-7.5-7.5c-4.305 0-7.807-3.502-7.807-7.807v-22.052h66.124c12.434 0 22.55 10.116 22.55 22.55zm-350.391 137.773h-35.714c-8.074 0-14.643 6.569-14.643 14.643v35.714c0 8.074 6.569 14.643 14.643 14.643h35.714c8.074 0 14.643-6.569 14.643-14.643v-35.714c0-8.075-6.569-14.643-14.643-14.643zm-.357 50h-35v-35h35zm66.559-77.773h35.714c8.074 0 14.643-6.569 14.643-14.643v-35.714c0-8.074-6.569-14.643-14.643-14.643h-35.714c-8.074 0-14.643 6.569-14.643 14.643v35.714c0 8.074 6.569 14.643 14.643 14.643zm.357-50h35v35h-35zm101.907 220.546c-.186-3.977-3.469-7.143-7.492-7.143-4.142 0-7.5 3.358-7.5 7.5 0 8.074 6.569 14.643 14.643 14.643h35.714c8.074 0 14.643-6.569 14.643-14.643v-35.714c0-8.074-6.569-14.643-14.643-14.643h-35.714c-8.074 0-14.643 6.569-14.643 14.643v10.3c0 4.142 3.358 7.5 7.5 7.5s7.5-3.358 7.5-7.5v-9.943h35v35zm-102.264-77.773h35.714c8.074 0 14.643-6.569 14.643-14.643v-35.714c0-8.074-6.569-14.643-14.643-14.643h-35.714c-8.074 0-14.643 6.569-14.643 14.643v35.714c0 8.074 6.569 14.643 14.643 14.643zm.357-50h35v35h-35zm-.357 142.773h35.714c8.074 0 14.643-6.569 14.643-14.643v-35.714c0-8.074-6.569-14.643-14.643-14.643h-35.714c-8.074 0-14.643 6.569-14.643 14.643v35.714c0 8.074 6.569 14.643 14.643 14.643zm.357-50h35v35h-35z"></path>
                                    </g>
                                </svg>
                                Расписание
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="col-12 col-md main__content">

                    {% block main_content %}{% endblock %}

                </div>
            </div>
        </div>
    </div>
{% endblock %}